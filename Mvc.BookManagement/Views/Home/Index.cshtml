@using Microsoft.Extensions.Localization@using Mvc.BookManagement.Resources.SharedResources@inject IStringLocalizer<SharedResource> Localizer@model IEnumerable<Mvc.BookManagement.Models.ViewModels.BookViewModel>@{ViewData["Title"] = Localizer["BookCatalog"];}<div class="container mt-4">    <div class="d-flex justify-content-between align-items-center mb-4">        <h1>@Localizer["BookCatalog"]</h1>        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addBookModal">            <i class="bi bi-plus"></i> @Localizer["AddNewBook"]        </button>    </div>    @if (Model == null || !Model.Any())    {    <div class="alert alert-info" role="alert">        @Localizer["NoBooksInCatalog"]    </div>    }    else    {        <div class="table-responsive">            <table class="table table-striped table-hover">                <thead class="table-dark">                <tr>                    <th style="width: 20%">@Localizer["Title"]</th>                    <th style="width: 20%">@Localizer["Author"]</th>                    <th style="width: 20%">@Localizer["Genre"]</th>                    <th style="width: 15%">@Localizer["PageCount"]</th>                    <th style="width: 25%">@Localizer["Actions"]</th>                </tr>                </thead>                <tbody>                @foreach (var book in Model)                {                    <tr>                        <td style="width: 20%">@book.Title</td>                        <td style="width: 20%">@book.Author</td>                        <td style="width: 20%">@book.Genre</td>                        <td style="width: 15%">@book.PageCount</td>                        <td style="width: 25%">                            <div class="btn-group" role="group">                                <a href="#" class="btn btn-warning btn-sm"                                   onclick="prepareEdit(@book.Id, '@book.Title', '@book.Author', '@book.Genre', @book.PageCount)"                                   data-bs-toggle="modal" data-bs-target="#editBookModal">                                    <i class="bi bi-pencil"></i> @Localizer["Edit"]                                </a>                                <a href="#" class="btn btn-info btn-sm"                                   onclick="fetchAndShowDetails(@book.Id)"                                   data-bs-toggle="modal" data-bs-target="#detailsBookModal">                                    <i class="bi bi-info-circle"></i> @Localizer["Details"]                                </a>                                <a href="#" class="btn btn-danger btn-sm"                                   onclick="prepareDelete(@book.Id, '@book.Title')"                                   data-bs-toggle="modal" data-bs-target="#deleteBookModal">                                    <i class="bi bi-trash"></i> @Localizer["Delete"]                                </a>                            </div>                        </td>                    </tr>                }                </tbody>            </table>        </div>    }</div><div class="modal fade" id="deleteBookModal" tabindex="-1" aria-labelledby="deleteBookModalLabel" aria-hidden="true">    <div class="modal-dialog">        <div class="modal-content" style="margin-top: 200px" >            <form id="deleteBookForm" action="/Book/Delete" method="post">                <input type="hidden" id="deleteBookId" name="id" value="">                <div class="modal-header">                    <h5 class="modal-title" id="deleteBookModalLabel">@Localizer["ConfirmDelete"]</h5>                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                </div>                <div class="modal-body">                    <p>@Localizer["DeleteConfirmationMessage"]</p>                    <p><strong id="deleteBookTitle"></strong></p>                </div>                <div class="modal-footer">                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">@Localizer["Cancel"]</button>                    <button type="submit" class="btn btn-danger">@Localizer["Delete"]</button>                </div>            </form>        </div>    </div></div><div class="modal fade" id="addBookModal" tabindex="-10" aria-labelledby="addBookModalLabel" aria-hidden="true">    <div class="modal-dialog">        <div class="modal-content" style="margin-top: 200px">            <form action="/Book/Create" method="post">                <div class="modal-header">                    <h5 class="modal-title" id="addBookModalLabel">@Localizer["AddNewBookTitle"]</h5>                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                </div>                <div class="modal-body">                    <div class="mb-3">                        <label for="Title" class="form-label">@Localizer["Title"]</label>                        <input type="text" class="form-control" id="Title" name="Title" required>                    </div>                    <div class="mb-3">                        <label for="Author" class="form-label">@Localizer["Author"]</label>                        <input type="text" class="form-control" id="Author" name="Author" required>                    </div>                    <div class="mb-3">                        <label for="Genre" class="form-label">@Localizer["Genre"]</label>                        <input type="text" class="form-control" id="Genre" name="Genre" required>                    </div>                                        <div class="mb-3">                        <label for="PageCount" class="form-label">@Localizer["PageCount"]</label>                        <input type="number" class="form-control" id="PageCount" name="PageCount" min="1" required>                    </div>                </div>                <div class="modal-footer">                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">@Localizer["Cancel"]</button>                    <button type="submit" class="btn btn-primary">@Localizer["SaveBook"]</button>                </div>            </form>        </div>    </div></div><div class="modal fade" id="editBookModal" tabindex="-1" aria-labelledby="editBookModalLabel" aria-hidden="true">    <div class="modal-dialog">        <div class="modal-content" style="margin-top: 200px">            <form id="editBookForm" action="/Book/Edit" method="post">                <input type="hidden" id="editBookId" name="id" value="">                <div class="modal-header">                    <h5 class="modal-title" id="editBookModalLabel">@Localizer["EditBookTitle"]</h5>                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                </div>                <div class="modal-body">                    <div class="mb-3">                        <label for="editTitle" class="form-label">@Localizer["Title"]</label>                        <input type="text" class="form-control" id="editTitle" name="Title" required>                    </div>                    <div class="mb-3">                        <label for="editAuthor" class="form-label">@Localizer["Author"]</label>                        <input type="text" class="form-control" id="editAuthor" name="Author" required>                    </div>                    <div class="mb-3">                        <label for="editGenre" class="form-label">@Localizer["Genre"]</label>                        <input type="text" class="form-control" id="editGenre" name="Genre" required>                    </div>                    <div class="mb-3">                        <label for="editPageCount" class="form-label">@Localizer["PageCount"]</label>                        <input type="number" class="form-control" id="editPageCount" name="PageCount" min="1" required>                    </div>                </div>                <div class="modal-footer">                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">@Localizer["Cancel"]</button>                    <button type="submit" class="btn btn-primary">@Localizer["SaveChanges"]</button>                </div>            </form>        </div>    </div></div><div class="modal fade" id="detailsBookModal" tabindex="-1" aria-labelledby="detailsBookModalLabel" aria-hidden="true">    <div class="modal-dialog">        <div class="modal-content" style="margin-top: 200px">            <div class="modal-header">                <h5 class="modal-title" id="detailsBookModalLabel">@Localizer["BookDetailsTitle"]</h5>                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>            </div>            <div class="modal-body">                <div class="row mb-3">                    <div class="col-4 fw-bold">@Localizer["Title"]:</div>                    <div class="col-8" id="detailsTitle"></div>                </div>                <div class="row mb-3">                    <div class="col-4 fw-bold">@Localizer["Author"]:</div>                    <div class="col-8" id="detailsAuthor"></div>                </div>                <div class="row mb-3">                    <div class="col-4 fw-bold">@Localizer["Genre"]:</div>                    <div class="col-8" id="detailsGenre"></div>                </div>                <div class="row mb-3">                    <div class="col-4 fw-bold">@Localizer["PageCount"]:</div>                    <div class="col-8" id="detailsPageCount"></div>                </div>            </div>            <div class="modal-footer">                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">@Localizer["Close"]</button>            </div>        </div>    </div></div>@section Scripts {<script>    (function () {        'use strict'                var forms = document.querySelectorAll('.modal-content form')        Array.prototype.slice.call(forms).forEach(function (form) {            form.addEventListener('submit', function (event) {                if (!form.checkValidity()) {                    event.preventDefault()                    event.stopPropagation()                }                form.classList.add('was-validated')            }, false)        })    })()        function prepareDelete(id, title) {        document.getElementById('deleteBookId').value = id;        document.getElementById('deleteBookTitle').textContent = title;    }        function prepareEdit(id, title, author, genre, pageCount) {        document.getElementById('editBookId').value = id;        document.getElementById('editTitle').value = title;        document.getElementById('editAuthor').value = author;        document.getElementById('editGenre').value = genre;        document.getElementById('editPageCount').value = pageCount;    }        function fetchAndShowDetails(id) {        fetch(`/Book/Details/${id}`)            .then(response => {                if (!response.ok) {                    throw new Error(`Error: ${response.status}`);                }                return response.json();            })            .then(book => {                document.getElementById('detailsTitle').textContent = book.title;                document.getElementById('detailsAuthor').textContent = book.author;                document.getElementById('detailsGenre').textContent = book.genre;                document.getElementById('detailsPageCount').textContent = book.pageCount;            })    }</script>}