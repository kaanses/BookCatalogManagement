using System.Diagnostics;using AutoMapper;using Microsoft.AspNetCore.Mvc;using Mvc.BookManagement.Interfaces;using Mvc.BookManagement.Models.ViewModels;namespace Mvc.BookManagement.Controllers;public class HomeController : Controller{    private readonly IBookService _bookService;    private readonly IMapper _mapper;    private readonly IResultHandlerFactory _resultHandlerFactory;    private IResultHandler _resultHandler;    public HomeController(IBookService bookService, IResultHandlerFactory resultHandlerFactory, IMapper mapper)    {        _bookService = bookService;        _mapper = mapper;        _resultHandlerFactory = resultHandlerFactory;        _resultHandler = _resultHandlerFactory.Create(this);    }    [HttpGet]    public async Task<IActionResult> Index()    {        var result = await _bookService.GetAllBooksAsync();        return _resultHandler.HandleResult(result, books =>        {            var viewModels = _mapper.Map<List<BookViewModel>>(books);            return View(viewModels);        });    }}