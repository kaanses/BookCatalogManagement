using AutoMapper;using FluentValidation;using Microsoft.EntityFrameworkCore;using Mvc.BookManagement.Data;using Mvc.BookManagement.Interfaces;using Mvc.BookManagement.Mappings;using Mvc.BookManagement.Models.DTOs;using Mvc.BookManagement.Services;using Mvc.BookManagement.Validators;using Serilog;var builder = WebApplication.CreateBuilder(args);Log.Logger = new LoggerConfiguration()    .WriteTo.File("logs/logs.txt", rollingInterval: RollingInterval.Day)    .CreateLogger();builder.Services.AddDbContext<ApplicationDbContext>(options =>    options.UseSqlite(builder.Configuration.GetConnectionString("DefaultConnection")));var mapperConfig = new MapperConfiguration(cfg =>{    cfg.AddProfile<MappingProfile>();});IMapper mapper = mapperConfig.CreateMapper();builder.Services.AddSingleton(mapper);// Add services to the container.builder.Services.AddControllersWithViews();builder.Services.AddMemoryCache();builder.Services.AddScoped<IUnitOfWork, UnitOfWork>();builder.Services.AddScoped<IValidator<BookInputDTO>, BookInputDTOValidator>();builder.Services.AddScoped<IBookService, BookService>();var app = builder.Build();using (var scope = app.Services.CreateScope()){    var dbContext = scope.ServiceProvider.GetRequiredService<ApplicationDbContext>();    dbContext.Database.EnsureCreated();}// Configure the HTTP request pipeline.if (!app.Environment.IsDevelopment()){    app.UseExceptionHandler("/Home/Error");    // The default HSTS value is 30 days. You may want to change this for production scenarios, see https://aka.ms/aspnetcore-hsts.    app.UseHsts();}app.UseHttpsRedirection();app.UseStaticFiles();app.UseRouting();app.UseAuthorization();app.MapControllerRoute(    name: "default",    pattern: "{controller=Home}/{action=Index}/{id?}");app.Run();